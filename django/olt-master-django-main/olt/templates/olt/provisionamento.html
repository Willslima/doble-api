{% load static %}
<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Provisionamento</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="{% static 'olt/favicon.ico' %}"
    />
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
  </head>
  <body onload="getEquipamentos()">
    <form action="POST">
      <div class="">
        {%include 'partials/_nav.html'%}
        <div class="mb-0 row mx-auto p-2 mt-2">
          <label for="inputNome" class="col-sm-2 col-form-label"
            >Nome do cliente</label
          >
          <div class="col-sm-10">
            <input
              type="text"
              class="form-control mt-2  bg-light text-white"
              id="inputNome"
              placeholder="Nome do Cliente"
              required
            />
          </div>
          <label for="equipamentos" class="col-sm-2 col-form-label mt-2"
            >Equipamentos</label
          >
          <div class="col-sm-10 mt-1">
            <select class="col-sm-6 mt-3  bg-light text-white" name="" id="equipamentos">
              <option>Carregando ...</option>
            </select>
            <button
              type="button"
              onclick="getEquipamentos()"
              class="btn btn-primary align-middle col-sm-2 btn-sm"
            >
              Pesquisar novamente
            </button>
            <button
              type="button"
              onclick="verificaClientesOffline()"
              class="btn btn-primary align-middle col-sm-2 btn-sm"
              data-bs-toggle="modal"
              data-bs-target="#meuModal"
            >
              Verificar clientes inativos
            </button>

          </div>
          <div class="mb-0 row mx-auto  ">
          <label for="ont-onu" class="col-sm-2 col-form-label mt-2"
            >Tipo de equipamento</label
          >
            <select class="col-sm-2 mt-3  bg-light text-white"  name="" id="ont-onu">
              <option value="ont">Ont (Router)</option>
              <option value="onu">Onu (Bridge)</option>
            </select>
          </div>

          <!-- O Modal -->
          <div
            class="modal fade"
            id="meuModal"
            tabindex="-1"
            aria-labelledby="modalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-xl">
              <div class="modal-content">
                <!-- Cabeçalho do modal -->
                <div class="modal-header">
                  <h5 class="modal-title" id="modalLabel">Clientes offline da primária do SN</h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Fechar"
                  ></button>
                </div>
                <!-- Corpo do modal -->
                <div class="modal-body">
                  
                <div class="col-sm-12 mt-1">
                  <select class="col-sm-12 mt-3" name="" id="cliente-lista">
                    <option>Carregando ...</option>
                  </select>
                  <p class="col-sm-12 col-form-label mt-2"
                  >Antes de excluir o cliente, verifique o motivo do cliente estar OFFLINE no hubsoft e faça o procedimento padrão de verificar o cabo.</p>
                  <p class="col-sm-12 col-form-label mt-2"
                  >ESTE PROCEDIMENTO É IRREVERSÍVEL</p>
                  <h3 id="retorno-modal" class="col-sm-12 col-form-label mt-2"
                  ></h3>
                  
                </div>
                </div>
                <!-- Rodapé do modal -->
                <div class="modal-footer">
                  <button type="button" onclick="verificaUltimaQueda()" class="btn btn-warning align-middle col-sm-4 btn-sm mt-2">
                    Verificar situação do cliente
                  </button>
                  <button type="button" onclick="excluirCliente()" class="btn btn-danger align-middle col-sm-4 btn-sm mt-2">
                    Excluir cliente
                  </button>
                  <button
                    type="button"
                    class="btn btn-dark align-middle col-sm-1 btn-sm mt-2"
                    data-bs-dismiss="modal"
                  >
                    Fechar
                  </button>
                </div>
              </div>
            </div>
          </div>

          <label for="inputCB" class="col-sm-2 col-form-label mt-2">CB</label>
          <div class="col-sm-10 mt-2">
            <input
              type="text"
              class="form-control mt-2  bg-light text-white"
              id="inputCB"
              placeholder="01,02 ... "
              required
            />
          </div>
          <label for="inputFP" class="col-sm-2 col-form-label mt-2">FP</label>
          <div class="col-sm-10 mt-2">
            <input
              type="text"
              class="form-control mt-2  bg-light text-white"
              id="inputFP"
              placeholder="01,02 ... "
              required
            />
          </div>
          <label for="inputCX" class="col-sm-2 col-form-label mt-2">CX</label>
          <div class="col-sm-10 mt-2">
            <input
              type="text"
              class="form-control mt-2  bg-light text-white"
              id="inputCX"
              placeholder="01,02 ... "
              required
            />
          </div>
          <label for="inputFS" class="col-sm-2 col-form-label mt-2">FS</label>
          <div class="col-sm-10 mt-2">
            <input
              type="text"
              class="form-control mt-2  bg-light text-white"
              id="inputFS"
              placeholder="01,02 ... "
              required
            />
          </div>
          <div class="col-sm-12 mt-2">
            <label for="" class="col-sm-12 col-form-label mt-2"
              >Resultado:
              <textarea
                class="form-control  bg-light text-white"
                id="retorno"
                rows="3"
                readonly
              ></textarea>
            </label>
          </div>
          <div class="d-grid gap-2 mt-1">
            <button
              type="button"
              onclick="provisiona(), registraProvisionamento()"
              id="btn-provisionar"
              class="btn btn-primary align-middle"
            >
              Provisionar
            </button>
          </div>
        </div>
      </div>
    </form>

    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <script src="{% static 'js/meuscript.js' %}"></script>
    <script src="{% static 'js/excluirClienteInativo.js' %}"></script>
    <script src="{% static 'js/logRegistraPost.js' %}"></script>
    <script src="{% static 'js/switch.js' %}"></script>
  </body>
</html>
